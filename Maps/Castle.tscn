[gd_scene load_steps=16 format=3 uid="uid://bigohgss0sb1m"]

[ext_resource type="PackedScene" uid="uid://chordaknnkt4w" path="res://Player/Player.tscn" id="1_q2bx6"]
[ext_resource type="PackedScene" uid="uid://2nomv2ixafjf" path="res://Collectables/Sword.tscn" id="2_mr0f7"]
[ext_resource type="PackedScene" uid="uid://cot8b6v6337jx" path="res://Collectables/BlueShield.tscn" id="3_ynq0x"]
[ext_resource type="PackedScene" uid="uid://djdmk3cti26d8" path="res://Collectables/RedShield.tscn" id="4_d36h0"]
[ext_resource type="PackedScene" uid="uid://dwc32eg7otd3g" path="res://HUD/Hud.tscn" id="5_ptwgn"]
[ext_resource type="PackedScene" uid="uid://cs5e14efng25y" path="res://NPCs/King.tscn" id="6_mk4aw"]
[ext_resource type="PackedScene" uid="uid://dwpekdxyfgh4d" path="res://Objects/gate.tscn" id="7_t10hw"]
[ext_resource type="PackedScene" uid="uid://i0mon8pxxi5n" path="res://Objects/Walls/wall_narrow_wood_fence.tscn" id="8_p3own"]
[ext_resource type="PackedScene" uid="uid://85m4h0h1o0g0" path="res://Objects/Walls/wall_narrow_stairs.tscn" id="10_2xdkn"]
[ext_resource type="PackedScene" uid="uid://ci6ay11i0qqvv" path="res://Objects/Walls/wall_corner_half_tower.tscn" id="10_sc284"]
[ext_resource type="PackedScene" uid="uid://b5xrrgv84xj5p" path="res://Objects/Walls/wall.tscn" id="11_s48sh"]
[ext_resource type="PackedScene" uid="uid://jmsn3o3dn08w" path="res://Objects/Walls/wall_stud.tscn" id="12_0fr72"]
[ext_resource type="PackedScene" uid="uid://d2cbkqb4qpa4y" path="res://Objects/Walls/wall_door.tscn" id="13_fahmv"]

[sub_resource type="BoxShape3D" id="BoxShape3D_og2ie"]
size = Vector3(100, 1, 100)

[sub_resource type="BoxMesh" id="BoxMesh_n541q"]
size = Vector3(100, 1, 100)

[node name="Castle" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("1_q2bx6")]

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0333357, 2.38419e-07, -0.000786781)
shape = SubResource("BoxShape3D_og2ie")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_n541q")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.422618, -0.694272, 0.582563, 0, 0.642788, 0.766044, -0.906308, 0.323744, -0.271654, 0, 0, 0)
shadow_enabled = true
shadow_opacity = 0.75

[node name="Sword" parent="." instance=ExtResource("2_mr0f7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.53409, 0.863365, -13.9399)
collision_mask = 3

[node name="BlueShield" parent="." instance=ExtResource("3_ynq0x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.9033, 1.31242, -10.4233)
collision_mask = 3

[node name="Hud" parent="." instance=ExtResource("5_ptwgn")]

[node name="RedShield" parent="." instance=ExtResource("4_d36h0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.74749, 1.26288, -11.4396)

[node name="RedShield2" parent="." instance=ExtResource("4_d36h0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.20459, 1.26288, -11.4396)

[node name="RedShield3" parent="." instance=ExtResource("4_d36h0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.74749, 1.26288, -17.4566)

[node name="King" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_mk4aw")]
transform = Transform3D(-0.734512, 0, -0.678596, 0, 1, 0, 0.678596, 0, -0.734512, -26.3487, 0.474001, -25.337)
player = NodePath("../Player")

[node name="Gate" parent="." instance=ExtResource("7_t10hw")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -18.6405, 0.616936, -34.1314)

[node name="Sword2" parent="." instance=ExtResource("2_mr0f7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.964, 0.886945, -7.47417)
collision_mask = 3

[node name="Sword3" parent="." instance=ExtResource("2_mr0f7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.70035, 0.776015, -15.0349)
collision_mask = 3

[node name="BlueShield2" parent="." instance=ExtResource("3_ynq0x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.9033, 1.31242, -10.4233)
collision_mask = 3

[node name="BlueShield3" parent="." instance=ExtResource("3_ynq0x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.2706, 1.36637, -15.1144)
collision_mask = 3

[node name="BlueShield4" parent="." instance=ExtResource("3_ynq0x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.06188, 1.25281, -6.65855)
collision_mask = 3

[node name="wallNarrowWoodFence" parent="." instance=ExtResource("8_p3own")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 39, 0, 4)

[node name="wallCornerHalfTower" parent="." instance=ExtResource("10_sc284")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 29, 0, 24)

[node name="wallNarrowWoodFence2" parent="." instance=ExtResource("8_p3own")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 39, 0, -6)

[node name="wallNarrowStairs" parent="." instance=ExtResource("10_2xdkn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 39, 0, 14)

[node name="wall" parent="." instance=ExtResource("11_s48sh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 39, 0, -16)

[node name="wall2" parent="." instance=ExtResource("11_s48sh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 39, 0, -26)

[node name="wallStud" parent="." instance=ExtResource("12_0fr72")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.5, 0, -17)

[node name="wallCornerHalfTower2" parent="." instance=ExtResource("10_sc284")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 29, 0, -26)

[node name="wallDoor" parent="." instance=ExtResource("13_fahmv")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -11, 0, -38)

[connection signal="collectable_collected" from="Player" to="Hud" method="_on_player_collectable_collected"]
[connection signal="submit_collectables" from="Player" to="King" method="_on_player_submit_collectables"]
[connection signal="open_gate" from="King" to="Gate" method="_on_king_open_gate"]
